<style>
    .slider.slider-horizontal {
        width: 100%;
    }

    .slider-selection {
        background: pink;
        box-shadow: unset;
    }

    .slider-handle {
        background: lightpink;
        box-shadow: 0 0 5px grey;
    }

    .bs-tooltip-auto[x-placement^=right] .arrow::before,
    .bs-tooltip-right .arrow::before {
        border-right-color: pink;
    }

    .tooltip-inner {
        background-color: pink;
    }

</style>

<div>
    <div class="row pt-3">
        <h5 class="xt-title">Password Generator</h5>
    </div>

    <form>
        <div class="form-group">
            <label for="range1"></label>
            <input id="range1" type="range" data-slider-min="6" data-slider-max="64" data-slider-step="1" data-slider-value="8" />

            <div class="custom-control custom-checkbox mt-2">
                <input type="checkbox" class="custom-control-input" id="check1" checked>
                <label class="custom-control-label pr-2" for="check1" data-toggle="tooltip" title="e.g. 123456">Include Numbers</label>
            </div>
            <div class="custom-control custom-checkbox mt-2">
                <input type="checkbox" class="custom-control-input" id="check2" checked>
                <label class="custom-control-label pr-2" for="check2" data-toggle="tooltip" title="e.g. abcdefgh">Include Lowercase Characters</label>
            </div>
            <div class="custom-control custom-checkbox mt-2">
                <input type="checkbox" class="custom-control-input" id="check3" checked>
                <label class="custom-control-label pr-2" for="check3" data-toggle="tooltip" title="e.g. ABCDEFGH">Include Uppercase Characters</label>
            </div>
            <div class="custom-control custom-checkbox mt-2">
                <input type="checkbox" class="custom-control-input" id="check4">
                <label class="custom-control-label pr-2" for="check4" data-toggle="tooltip" title="e.g. @#$%">Include Symbols</label>
            </div>
            <div class="custom-control custom-checkbox mt-2">
                <input type="checkbox" class="custom-control-input" id="check5" checked>
                <label class="custom-control-label pr-2" for="check5" data-toggle="tooltip" title="save all the settings above for later use">Save My Preference</label>
            </div>
        </div>

        <div class="form-group">
            <label for="output1">output</label>
            <textarea class="form-control" id="output1" rows="6"></textarea>
        </div>

        <button type="button" class="btn btn-primary d-none" id="copy-button">Copy</button>
    </form>
</div>

<script>
    "use strict"

    window.partObject = (function() {
        return {
            init: init,
            activate: activate,
            deactivate: deactivate
        }

        function init() {
            if (navigator.clipboard) {
                document.getElementById("copy-button").classList.remove("d-none")
            }

            // NOTE: tooltip not work with bootstrap 4
            // SEE: https://github.com/seiyria/bootstrap-slider/issues/689
            // SEE: https://github.com/seiyria/bootstrap-slider#options
            let slider1 = new Slider('#range1', {
                tooltip: 'hide'
            }).on('change', onChangeSlide)

            // update length lable
            updateLengthLabel(slider1.getValue())

            // initialize tooltips
            $('[data-toggle="tooltip"]').tooltip({
                placement: 'right',
                delay: {
                    "show": 500,
                    "hide": 100
                }
            })

            // add event listeners
            document.getElementById("copy-button").addEventListener("click", onCopy)
        }

        function activate() {
            // do nothing
        }

        function deactivate() {
            // do nothing
        }

        function onCopy() {
            let output = document.getElementById("output1").value

            navigator.clipboard && navigator.clipboard.writeText(output).then(function() {
                xdialog.info("clipboard successfully set")
            }, function() {
                xdialog.warn("clipboard write failed")
            })
        }

        function onChangeSlide(e) {
            updateLengthLabel(e.newValue)
        }

        function updateLengthLabel(length) {
            document.querySelector('[for="range1"]').textContent = "Password Length: " + length
        }
    })()

</script>
